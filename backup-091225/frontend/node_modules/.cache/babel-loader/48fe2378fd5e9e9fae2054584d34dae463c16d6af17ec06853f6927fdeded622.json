{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{useNavigate}from\"react-router-dom\";import\"../styles/SubmitForm.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function SubmitForm(){const[member_id,setMember_Id]=useState(\"\");const[error,setError]=useState(\"\");const navigate=useNavigate();const[isLoading,setIsLoading]=useState(false);const SERVER_URL=process.env.REACT_APP_BACKEND_SERVER_URL;/*  useEffect(() => {\n    setError(\"\");\n  }, [passwordChange]);*/const handleSubmit=async e=>{e.preventDefault();if(!member_id){setError(\"Member ID is required.\");return;}try{setIsLoading(true);const response=await axios.post(\"\".concat(SERVER_URL,\"/search_member\"),{member_id});if(response.data.token){localStorage.setItem(\"name\",response.data.name);//console.log(\"✅ Login Successful! Role:\", response.data.role);\n//navigate(\"/data\");\n}}catch(err){var _err$response;if(((_err$response=err.response)===null||_err$response===void 0?void 0:_err$response.status)===403){}else{var _err$response2,_err$response2$data;setError(((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.message)||\"Invalid Member ID.\");}}finally{setIsLoading(false);}};//===============================================================================================\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"login-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"top-half\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"JSMC RSVP\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Submit RSVP\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-half\",children:[error&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Member ID:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:member_id,onChange:e=>setMember_Id(e.target.value),required:true,autoFocus:true})]}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:handleSubmit,disabled:isLoading,children:isLoading?\"Searching...\":\"Search\"})]})]})]});}export default SubmitForm;","map":{"version":3,"names":["React","useState","useEffect","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","SubmitForm","member_id","setMember_Id","error","setError","navigate","isLoading","setIsLoading","SERVER_URL","process","env","REACT_APP_BACKEND_SERVER_URL","handleSubmit","e","preventDefault","response","post","concat","data","token","localStorage","setItem","name","err","_err$response","status","_err$response2","_err$response2$data","message","className","children","type","value","onChange","target","required","autoFocus","onClick","disabled"],"sources":["/Users/tejas.shah/Downloads/jsmcrsvp/frontend/src/components/SubmitForm.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"../styles/SubmitForm.css\";\n\nfunction SubmitForm() {\n  const [member_id, setMember_Id] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const navigate = useNavigate();\n  const [isLoading, setIsLoading] = useState(false);\n\n  const SERVER_URL = process.env.REACT_APP_BACKEND_SERVER_URL;\n\n/*  useEffect(() => {\n    setError(\"\");\n  }, [passwordChange]);*/\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    if (!member_id) {\n      setError(\"Member ID is required.\");\n      return;\n    }\n\n    try {\n      setIsLoading(true);\n      const response = await axios.post(`${SERVER_URL}/search_member`, { member_id });\n\n      if (response.data.token) {\n        localStorage.setItem(\"name\", response.data.name);\n\n        //console.log(\"✅ Login Successful! Role:\", response.data.role);\n        //navigate(\"/data\");\n      }\n    } catch (err) {\n      if (err.response?.status === 403) {\n      } else {\n        setError(err.response?.data?.message || \"Invalid Member ID.\");\n      }\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  //===============================================================================================\n\n  return (\n    <div className=\"login-container\">\n      <div className=\"top-half\">\n        <h2>JSMC RSVP</h2>\n        <h3>Submit RSVP</h3>\n      </div>\n      <div className=\"input-half\">\n        {error && <p className=\"error-message\">{error}</p>}\n          <form>\n            <div className=\"form-group\">\n              <label>Member ID:</label>\n              <input type=\"number\" value={member_id} onChange={(e) => setMember_Id(e.target.value)} required autoFocus />\n            </div>\n            <button className=\"button\" onClick={handleSubmit} disabled={isLoading}>\n            {isLoading ? \"Searching...\" : \"Search\"}\n            </button>\n          </form>\n      </div>\n    </div>\n  );\n}\n\nexport default SubmitForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}