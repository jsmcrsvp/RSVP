{"ast":null,"code":"import _objectSpread from\"/Users/tejas.shah/Downloads/jsmcrsvp/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// frontend/src/components/SubmitRSVP.js ========== Working )91225 ======7:30am=============\nimport React,{useEffect,useState}from\"react\";//import { getOpenEvents, searchMember, submitRSVP, verifyRSVP, updateRSVP, } from \"../api\";\n//import { getOpenEvents, searchMember, submitRSVP, verifyRSVP, updateRSVP, } from \"./api\";\nimport\"../styles/SubmitRSVP.css\";import logo from\"../assets/JSMCLogo.jpg\";import\"./NonMemberRSVP\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function SubmitRSVP(){var _verifyMemberFromResu,_verifyMemberFromResu2,_verifyMemberFromResu3,_verifyMemberFromResu4;const[activeTab,setActiveTab]=useState(\"home\");// \"home\" | \"submit\" | \"verify\"\n// Shared\nconst[events,setEvents]=useState([]);const[error,setError]=useState(\"\");// Submit states\nconst[isLifeMember,setIsLifeMember]=useState(null);const[searchMode,setSearchMode]=useState(\"\");const[memberId,setMemberId]=useState(\"\");const[name,setName]=useState(\"\");const[houseNumber,setHouseNumber]=useState(\"\");const[member,setMember]=useState(null);const[selectedEvents,setSelectedEvents]=useState({});// { idx: count/flag }\nconst[email,setEmail]=useState(\"\");const[rsvpCount,setRsvpCount]=useState(\"\");// RSVP count (single field as in your code)\nconst[confirmation,setConfirmation]=useState(null);const[loadingEvents,setLoadingEvents]=useState(true);const[searching,setSearching]=useState(false);const[submitting,setSubmitting]=useState(false);// Submit messaging / success\nconst[submitMessage,setSubmitMessage]=useState(null);const[submitSuccess,setSubmitSuccess]=useState(false);// Verify states\nconst[verifyConfNumber,setVerifyConfNumber]=useState(\"\");const[verifyResult,setVerifyResult]=useState({rsvps:[]});// always an object with rsvps array\nconst[verifying,setVerifying]=useState(false);// Modify RSVP\nconst[editIndex,setEditIndex]=useState(null);const[modifiedCount,setModifiedCount]=useState(\"\");const[updateMessage,setUpdateMessage]=useState(null);const[updateError,setUpdateError]=useState(null);// ---------------- New: shared reset function ----------------\nconst resetAll=()=>{// Submit side\nsetIsLifeMember(null);setSearchMode(\"\");setMemberId(\"\");setName(\"\");setHouseNumber(\"\");setMember(null);setSelectedEvents({});setEmail(\"\");setRsvpCount(\"\");setConfirmation(null);setSubmitMessage(null);setSubmitSuccess(false);setError(\"\");setSearching(false);setSubmitting(false);// Verify side\nsetVerifyConfNumber(\"\");setVerifyResult({rsvps:[]});setVerifying(false);setEditIndex(null);setModifiedCount(\"\");setUpdateMessage(null);setUpdateError(null);};const handleTabChange=tab=>{if(tab===\"home\"){resetAll();}setActiveTab(tab);};// ------------------------------------------------------------\n// Load open events once\nuseEffect(()=>{(async()=>{setLoadingEvents(true);try{console.log(\"Loading open events...\");const data=await getOpenEvents();setEvents(Array.isArray(data)?data:[]);console.log(\"Open events loaded:\",Array.isArray(data)?data.length:0);}catch(err){console.error(\"Failed to load open events:\",err);setError(\"Failed to load open events.\");}finally{setLoadingEvents(false);}})();},[]);// -------- Submit handlers --------\nconst handleSearch=async e=>{e.preventDefault();setError(\"\");setMember(null);if(searchMode!==\"memberId\"&&searchMode!==\"nameHouse\"){setError(\"Choose a search mode first.\");return;}if(searchMode===\"memberId\"&&!memberId.trim()){setError(\"Member ID is required.\");return;}if(searchMode===\"nameHouse\"&&(!name.trim()||!houseNumber.trim())){setError(\"Name and House # are required.\");return;}setSearching(true);try{const payload=searchMode===\"memberId\"?{memberId:memberId.trim()}:{name:name.trim(),houseNumber:houseNumber.trim()};console.log(\"Searching member with payload:\",payload);const result=await searchMember(payload);console.log(\"Search result:\",result);if(result&&result.name){setMember(result);}else{setError(\"Member not found.\");}}catch(err){console.error(\"Error searching member:\",err);setError(err.message||\"Error searching member.\");}finally{setSearching(false);}};const toggleEventSelection=(eventId,checked)=>{setSelectedEvents(prev=>{var _copy$eventId;const copy=_objectSpread({},prev);if(checked)copy[eventId]=(_copy$eventId=copy[eventId])!==null&&_copy$eventId!==void 0?_copy$eventId:1;else delete copy[eventId];return copy;});};const updateEventCount=(eventId,value)=>{setSelectedEvents(prev=>_objectSpread(_objectSpread({},prev),{},{[eventId]:value?parseInt(value,10):0}));};const hasValidSelection=()=>{// at least one event selected & count > 0 (you already used this rule)\nreturn Object.keys(selectedEvents).some(k=>{const v=Number(selectedEvents[k]||rsvpCount);return!isNaN(v)&&v>0;});};const handleSubmitRSVP=async e=>{e.preventDefault();setError(\"\");setConfirmation(null);setSubmitMessage(null);if(!member){setError(\"Please search and select a member first.\");return;}if(!hasValidSelection()){setError(\"Please select at least one event and give it an RSVP count (>0).\");return;}if(!email.trim()){setError(\"Please enter an email address.\");return;}const confNumber=Math.floor(100000+Math.random()*900000).toString();const payload={memname:member.name,memaddress:member.address,memphonenumber:member.phone,mememail:email.trim(),rsvpconfnumber:confNumber,events:events.map((ev,idx)=>selectedEvents[idx]!==undefined&&Number(rsvpCount)>=0?{programname:ev.programname,eventname:ev.eventname,eventday:ev.eventday,eventdate:ev.eventdate,rsvpcount:Number(rsvpCount)}:null).filter(Boolean)};console.log(\"Submitting RSVP Payload:\",payload);setSubmitting(true);try{const res=await submitRSVP(payload);console.log(\"Submit response:\",res);setConfirmation(_objectSpread({confNumber},res));setSubmitMessage(\"RSVP submitted successfully!\");setSubmitSuccess(true);// keep success message visible then clear (as you requested previously)\nsetTimeout(()=>{// Reset all submit tab states\nsetSubmitMessage(null);setSubmitSuccess(false);setConfirmation(null);setMember(null);setSelectedEvents({});setEmail(\"\");setIsLifeMember(null);setSearchMode(\"\");setMemberId(\"\");setName(\"\");setHouseNumber(\"\");setRsvpCount(\"\");// Switch to Home\nsetActiveTab(\"home\");},15000);}catch(err){console.error(\"Error submitting RSVP:\",err);setSubmitMessage(\"Error submitting RSVP: \"+(err.message||\"Unknown\"));setSubmitSuccess(false);}finally{setSubmitting(false);}};// -------- Verify handlers --------\nconst handleVerifyRSVP=async e=>{if(e&&e.preventDefault)e.preventDefault();setError(\"\");setVerifyResult({rsvps:[]});setUpdateMessage(null);setUpdateError(null);if(!verifyConfNumber.trim()){setError(\"Confirmation number is required.\");return;}setVerifying(true);try{console.log(\"Calling verifyRSVP for:\",verifyConfNumber.trim());const data=await verifyRSVP(verifyConfNumber.trim());console.log(\"Verify response:\",data);// normalize shape: ensure object with rsvps array\nconst normalized=data&&Array.isArray(data.rsvps)?data:{rsvps:[]};setVerifyResult(normalized);}catch(err){var _err$response,_err$response$data;console.error(\"Error verifying RSVP:\",err);setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||err.message||\"Error verifying RSVP.\");}finally{setVerifying(false);setEditIndex(null);setModifiedCount(\"\");}};const handleUpdateRSVP=async(rsvpId,newCount)=>{try{console.log(\"üîß Sending update for RSVP:\",rsvpId,\"‚Üí\",newCount);const result=await updateRSVP(rsvpId,parseInt(newCount,10));console.log(\"‚úÖ RSVP updated:\",result);const successMsg=\"RSVP updated successfully!\";// Refresh verify results\nawait handleVerifyRSVP({preventDefault:()=>{}});setEditIndex(null);// Show success AFTER refresh\nsetUpdateMessage(successMsg);setUpdateError(null);// After 15s clear everything and return to Home\nsetTimeout(()=>{setVerifyConfNumber(\"\");setVerifyResult({rsvps:[]});setEditIndex(null);setModifiedCount(\"\");setUpdateMessage(null);setActiveTab(\"home\");},15000);}catch(err){console.error(\"‚ùå Error updating RSVP:\",err);setUpdateError(err.message||\"Error updating RSVP.\");setUpdateMessage(null);setTimeout(()=>setUpdateError(null),5000);}};// Helper to extract member info from verifyResult.rsvps (first doc)\nconst verifyMemberFromResult=()=>{var _verifyResult$rsvps;const arr=(_verifyResult$rsvps=verifyResult===null||verifyResult===void 0?void 0:verifyResult.rsvps)!==null&&_verifyResult$rsvps!==void 0?_verifyResult$rsvps:[];if(!Array.isArray(arr)||arr.length===0)return null;const first=arr[0];return{name:first.memname||\"\",address:first.memaddress||\"\",phone:first.memphonenumber||\"\",email:first.mememail||\"\"};};// Utility to format YYYY-MM-DD ‚Üí MM/DD/YYYY\nconst displayDate=dateStr=>{if(!dateStr)return\"\";const[year,month,day]=dateStr.split(\"-\");return\"\".concat(month,\"/\").concat(day,\"/\").concat(year);};// -------- UI --------\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"page-wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"rsvp-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"logo-wrapper\",children:/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"JSMC Logo\",className:\"rsvp-logo\"})}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),activeTab===\"home\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"home\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Welcome to JSMC RSVP Portal\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"result-table-wrapper\",style:{marginTop:\"10px\"},children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Current Open Events to Submit or Modify RSVP\"}),Array.isArray(events)&&events.length>0?/*#__PURE__*/_jsxs(\"table\",{className:\"result-table\",style:{marginBottom:\"20px\"},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Program\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Event Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Event Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"RSVP By\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:events.map((ev,idx)=>{// Check if this is the first event for this program\nconst isFirst=idx===0||ev.programname!==events[idx-1].programname;// Count how many events belong to this program\nconst programCount=events.filter(e=>e.programname===ev.programname).length;return/*#__PURE__*/_jsxs(\"tr\",{children:[isFirst&&/*#__PURE__*/_jsx(\"td\",{rowSpan:programCount,children:ev.programname}),/*#__PURE__*/_jsx(\"td\",{children:ev.eventname}),/*#__PURE__*/_jsxs(\"td\",{children:[ev.eventday,\", \",displayDate(ev.eventdate)]}),/*#__PURE__*/_jsx(\"td\",{children:displayDate(ev.closersvp)})]},ev._id||idx);})})]}):/*#__PURE__*/_jsx(\"p\",{style:{fontStyle:\"italic\",color:\"#666\"},children:\"No open events available at this time.\"})]}),/*#__PURE__*/_jsx(\"h4\",{children:\"Please select Submit RSVP or Verify / Modify RSVP Tab\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"tab-header\",children:[/*#__PURE__*/_jsx(\"button\",{className:activeTab===\"home\"?\"tab active\":\"tab\",onClick:()=>handleTabChange(\"home\"),children:\"Home\"}),/*#__PURE__*/_jsx(\"button\",{className:activeTab===\"submit\"?\"tab active\":\"tab\",onClick:()=>handleTabChange(\"submit\"),children:\"Submit RSVP\"}),/*#__PURE__*/_jsx(\"button\",{className:activeTab===\"verify\"?\"tab active\":\"tab\",onClick:()=>handleTabChange(\"verify\"),children:\"Verify / Modify RSVP\"})]}),activeTab===\"submit\"&&/*#__PURE__*/_jsxs(_Fragment,{children:[isLifeMember===null&&/*#__PURE__*/_jsxs(\"div\",{className:\"form-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Are you JSMC Life Member?\"}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"lifeMember\",value:\"yes\",onChange:()=>setIsLifeMember(\"yes\")}),\" Yes\"]}),/*#__PURE__*/_jsxs(\"label\",{style:{marginLeft:\"1rem\"},children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"lifeMember\",value:\"no\",onChange:()=>setIsLifeMember(\"no\")}),\" No\"]})]}),isLifeMember===\"no\"&&{/*<form className=\"search-form\">\n                <div>\n                  <label htmlFor=\"name\">Name:</label>\n                  <input type=\"text\" id=\"name\" name=\"name\" required />\n                </div>\n                <div>\n                  <label htmlFor=\"address\">Address:</label>\n                  <input type=\"text\" id=\"address\" name=\"address\" required />\n                </div>\n                <div>\n                  <label htmlFor=\"phone\">Phone Number:</label>\n                  <input type=\"tel\" id=\"phone\" name=\"phone\" required />\n                </div>\n                <button className=\"button\" type=\"submit\">Submit</button>\n              </form>*/},isLifeMember===\"yes\"&&!member&&/*#__PURE__*/_jsxs(\"form\",{className:\"search-form\",onSubmit:handleSearch,children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Retrieve membership using\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",value:\"memberId\",checked:searchMode===\"memberId\",onChange:()=>setSearchMode(\"memberId\")}),\"Member ID\"]}),/*#__PURE__*/_jsx(\"label\",{style:{marginLeft:\"1rem\"},children:\" OR \"}),/*#__PURE__*/_jsxs(\"label\",{style:{marginLeft:\"1rem\"},children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",value:\"nameHouse\",checked:searchMode===\"nameHouse\",onChange:()=>setSearchMode(\"nameHouse\")}),\"First Name & House #\"]})]}),searchMode===\"memberId\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"inline-fields\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"small-input\",type:\"number\",value:memberId,onChange:e=>setMemberId(e.target.value),placeholder:\"Enter Member ID\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",type:\"submit\",disabled:searching||memberId.trim()===\"\",style:{backgroundColor:searching||memberId.trim()===\"\"?\"lightgray\":\"#007bff\",color:searching||memberId.trim()===\"\"?\"#666\":\"white\",cursor:searching||memberId.trim()===\"\"?\"not-allowed\":\"pointer\"},children:searching?\"Searching...\":\"Search\"})]}),searchMode===\"nameHouse\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"inline-fields\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"small-input\",type:\"text\",value:name,onChange:e=>setName(e.target.value),placeholder:\"First Name\"}),/*#__PURE__*/_jsx(\"span\",{className:\"inline-label\",children:\"House #\"}),/*#__PURE__*/_jsx(\"input\",{className:\"small-input\",type:\"text\",value:houseNumber,onChange:e=>setHouseNumber(e.target.value),placeholder:\"e.g. 123\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",type:\"submit\",disabled:searching||name.trim()===\"\"||houseNumber.trim()===\"\",style:{backgroundColor:searching||name.trim()===\"\"||houseNumber.trim()===\"\"?\"lightgray\":\"#007bff\",color:searching||name.trim()===\"\"||houseNumber.trim()===\"\"?\"#666\":\"white\",cursor:searching||name.trim()===\"\"||houseNumber.trim()===\"\"?\"not-allowed\":\"pointer\"},children:searching?\"Searching...\":\"Search\"})]})]}),member&&/*#__PURE__*/_jsxs(\"form\",{className:\"rsvp-form\",onSubmit:handleSubmitRSVP,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"result-table-wrapper\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Membership Details\"}),/*#__PURE__*/_jsx(\"table\",{className:\"result-table\",style:{marginBottom:10},children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"td\",{children:member.name})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Address\"}),/*#__PURE__*/_jsx(\"td\",{children:member.address})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Phone\"}),/*#__PURE__*/_jsx(\"td\",{children:member.phone})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"result-table-wrapper\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Select Events to RSVP\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"result-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Program\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Event Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Event Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Select\"}),/*#__PURE__*/_jsx(\"th\",{children:\"RSVP\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:events.map((ev,idx)=>{const isFirst=idx===0||ev.programname!==events[idx-1].programname;const programCount=events.filter(e=>e.programname===ev.programname).length;return/*#__PURE__*/_jsxs(\"tr\",{children:[isFirst&&/*#__PURE__*/_jsx(\"td\",{rowSpan:programCount,children:ev.programname}),/*#__PURE__*/_jsx(\"td\",{children:ev.eventname}),/*#__PURE__*/_jsxs(\"td\",{children:[ev.eventday,\", \",displayDate(ev.eventdate)]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:selectedEvents[idx]!==undefined,onChange:e=>toggleEventSelection(idx,e.target.checked)})}),/*#__PURE__*/_jsx(\"td\",{children:selectedEvents[idx]!==undefined?/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"0\",value:rsvpCount,onChange:e=>setRsvpCount(e.target.value),placeholder:\"Count\",style:{width:\"60px\"}}):\"-\"})]},idx);})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inline-fields\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email Address\"}),/*#__PURE__*/_jsx(\"input\",{className:\"small-input\",type:\"email\",value:email,onChange:e=>setEmail(e.target.value),placeholder:\"Enter Email Address\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",type:\"submit\",disabled:rsvpCount===\"\"||email===\"\",style:{backgroundColor:rsvpCount===\"\"||email===\"\"?\"grey\":\"#007bff\",cursor:rsvpCount===\"\"||email===\"\"?\"not-allowed\":\"pointer\"},children:\"Submit RSVP\"})]})]}),submitSuccess&&submitMessage&&/*#__PURE__*/_jsxs(\"div\",{style:{color:\"green\",marginTop:\"10px\"},children:[\"\\u2705 \",submitMessage,confirmation&&/*#__PURE__*/_jsxs(\"div\",{children:[\"Confirmation #: \",confirmation.confNumber||(confirmation===null||confirmation===void 0?void 0:confirmation.confNumber)]})]}),!submitSuccess&&submitMessage&&/*#__PURE__*/_jsxs(\"div\",{style:{color:\"red\",marginTop:\"10px\"},children:[\"\\u274C \",submitMessage]})]}),activeTab===\"verify\"&&/*#__PURE__*/_jsxs(\"form\",{className:\"verify-form\",onSubmit:handleVerifyRSVP,children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Verify / Modify RSVP\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"inline-fields\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"small-input\",type:\"text\",value:verifyConfNumber,onChange:e=>setVerifyConfNumber(e.target.value),placeholder:\"Enter Confirmation #\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",type:\"submit\",disabled:verifying,children:verifying?\"Verifying...\":\"Verify\"})]}),verifyResult&&Array.isArray(verifyResult.rsvps)&&verifyResult.rsvps.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"result-table-wrapper\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Current RSVP Details\"}),/*#__PURE__*/_jsx(\"table\",{className:\"result-table\",style:{marginBottom:10},children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"td\",{children:(_verifyMemberFromResu=verifyMemberFromResult())===null||_verifyMemberFromResu===void 0?void 0:_verifyMemberFromResu.name})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Address\"}),/*#__PURE__*/_jsx(\"td\",{children:(_verifyMemberFromResu2=verifyMemberFromResult())===null||_verifyMemberFromResu2===void 0?void 0:_verifyMemberFromResu2.address})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Phone\"}),/*#__PURE__*/_jsx(\"td\",{children:(_verifyMemberFromResu3=verifyMemberFromResult())===null||_verifyMemberFromResu3===void 0?void 0:_verifyMemberFromResu3.phone})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"td\",{children:(_verifyMemberFromResu4=verifyMemberFromResult())===null||_verifyMemberFromResu4===void 0?void 0:_verifyMemberFromResu4.email})]})]})}),/*#__PURE__*/_jsxs(\"table\",{className:\"result-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Program\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Event Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Event Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"RSVP\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Modify\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:verifyResult.rsvps.map((ev,idx)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:ev.programname}),/*#__PURE__*/_jsx(\"td\",{children:ev.eventname}),/*#__PURE__*/_jsxs(\"td\",{children:[ev.eventday,\", \",displayDate(ev.eventdate)]}),/*#__PURE__*/_jsx(\"td\",{children:ev.eventstatus}),/*#__PURE__*/_jsx(\"td\",{children:editIndex===idx?/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"0\",value:modifiedCount,onChange:e=>setModifiedCount(e.target.value),style:{width:\"60px\"}}):ev.rsvpcount}),/*#__PURE__*/_jsx(\"td\",{children:ev.eventstatus===\"Open\"?editIndex===idx?/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>handleUpdateRSVP(ev._id,modifiedCount),children:\"Save\"}):/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",onChange:()=>{setEditIndex(idx);setModifiedCount(ev.rsvpcount);}}),\"Modify\"]}):/*#__PURE__*/_jsx(\"span\",{style:{color:\"gray\"},children:\"Not Editable\"})})]},ev._id||idx))})]})]}),verifyResult&&verifyResult.checked&&Array.isArray(verifyResult.rsvps)&&verifyResult.rsvps.length===0&&/*#__PURE__*/_jsx(\"div\",{style:{textAlign:\"center\",color:\"#888\",fontStyle:\"italic\",marginTop:\"10px\"},children:\"No RSVP records found for this confirmation number or Event RSVP may be closed.\"}),updateMessage&&/*#__PURE__*/_jsxs(\"div\",{style:{color:\"green\",marginTop:\"10px\"},children:[\"\\u2705 \",updateMessage]}),updateError&&/*#__PURE__*/_jsxs(\"div\",{style:{color:\"red\",marginTop:\"10px\"},children:[\"\\u274C \",updateError]})]})]})});}","map":{"version":3,"names":["React","useEffect","useState","logo","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SubmitRSVP","_verifyMemberFromResu","_verifyMemberFromResu2","_verifyMemberFromResu3","_verifyMemberFromResu4","activeTab","setActiveTab","events","setEvents","error","setError","isLifeMember","setIsLifeMember","searchMode","setSearchMode","memberId","setMemberId","name","setName","houseNumber","setHouseNumber","member","setMember","selectedEvents","setSelectedEvents","email","setEmail","rsvpCount","setRsvpCount","confirmation","setConfirmation","loadingEvents","setLoadingEvents","searching","setSearching","submitting","setSubmitting","submitMessage","setSubmitMessage","submitSuccess","setSubmitSuccess","verifyConfNumber","setVerifyConfNumber","verifyResult","setVerifyResult","rsvps","verifying","setVerifying","editIndex","setEditIndex","modifiedCount","setModifiedCount","updateMessage","setUpdateMessage","updateError","setUpdateError","resetAll","handleTabChange","tab","console","log","data","getOpenEvents","Array","isArray","length","err","handleSearch","e","preventDefault","trim","payload","result","searchMember","message","toggleEventSelection","eventId","checked","prev","_copy$eventId","copy","_objectSpread","updateEventCount","value","parseInt","hasValidSelection","Object","keys","some","k","v","Number","isNaN","handleSubmitRSVP","confNumber","Math","floor","random","toString","memname","memaddress","address","memphonenumber","phone","mememail","rsvpconfnumber","map","ev","idx","undefined","programname","eventname","eventday","eventdate","rsvpcount","filter","Boolean","res","submitRSVP","setTimeout","handleVerifyRSVP","verifyRSVP","normalized","_err$response","_err$response$data","response","handleUpdateRSVP","rsvpId","newCount","updateRSVP","successMsg","verifyMemberFromResult","_verifyResult$rsvps","arr","first","displayDate","dateStr","year","month","day","split","concat","className","children","src","alt","style","marginTop","marginBottom","isFirst","programCount","rowSpan","closersvp","_id","fontStyle","color","onClick","type","onChange","marginLeft","onSubmit","target","placeholder","disabled","backgroundColor","cursor","min","width","eventstatus","textAlign"],"sources":["/Users/tejas.shah/Downloads/jsmcrsvp/src/components/SubmitRSVP.js"],"sourcesContent":["// frontend/src/components/SubmitRSVP.js ========== Working )91225 ======7:30am=============\nimport React, { useEffect, useState } from \"react\";\n//import { getOpenEvents, searchMember, submitRSVP, verifyRSVP, updateRSVP, } from \"../api\";\n//import { getOpenEvents, searchMember, submitRSVP, verifyRSVP, updateRSVP, } from \"./api\";\nimport \"../styles/SubmitRSVP.css\";\nimport logo from \"../assets/JSMCLogo.jpg\";\nimport \"./NonMemberRSVP\";\n\nexport default function SubmitRSVP() {\n  const [activeTab, setActiveTab] = useState(\"home\"); // \"home\" | \"submit\" | \"verify\"\n\n  // Shared\n  const [events, setEvents] = useState([]);\n  const [error, setError] = useState(\"\");\n\n  // Submit states\n  const [isLifeMember, setIsLifeMember] = useState(null);\n  const [searchMode, setSearchMode] = useState(\"\");\n  const [memberId, setMemberId] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [houseNumber, setHouseNumber] = useState(\"\");\n  const [member, setMember] = useState(null);\n\n  const [selectedEvents, setSelectedEvents] = useState({}); // { idx: count/flag }\n  const [email, setEmail] = useState(\"\");\n  const [rsvpCount, setRsvpCount] = useState(\"\");   // RSVP count (single field as in your code)\n  const [confirmation, setConfirmation] = useState(null);\n\n  const [loadingEvents, setLoadingEvents] = useState(true);\n  const [searching, setSearching] = useState(false);\n  const [submitting, setSubmitting] = useState(false);\n\n  // Submit messaging / success\n  const [submitMessage, setSubmitMessage] = useState(null);\n  const [submitSuccess, setSubmitSuccess] = useState(false);\n\n  // Verify states\n  const [verifyConfNumber, setVerifyConfNumber] = useState(\"\");\n  const [verifyResult, setVerifyResult] = useState({ rsvps: [] }); // always an object with rsvps array\n  const [verifying, setVerifying] = useState(false);\n\n  // Modify RSVP\n  const [editIndex, setEditIndex] = useState(null);\n  const [modifiedCount, setModifiedCount] = useState(\"\");\n  const [updateMessage, setUpdateMessage] = useState(null);\n  const [updateError, setUpdateError] = useState(null);\n\n  // ---------------- New: shared reset function ----------------\n  const resetAll = () => {\n    // Submit side\n    setIsLifeMember(null);\n    setSearchMode(\"\");\n    setMemberId(\"\");\n    setName(\"\");\n    setHouseNumber(\"\");\n    setMember(null);\n    setSelectedEvents({});\n    setEmail(\"\");\n    setRsvpCount(\"\");\n    setConfirmation(null);\n    setSubmitMessage(null);\n    setSubmitSuccess(false);\n    setError(\"\");\n    setSearching(false);\n    setSubmitting(false);\n\n    // Verify side\n    setVerifyConfNumber(\"\");\n    setVerifyResult({ rsvps: [] });\n    setVerifying(false);\n    setEditIndex(null);\n    setModifiedCount(\"\");\n    setUpdateMessage(null);\n    setUpdateError(null);\n  };\n\n  const handleTabChange = (tab) => {\n    if (tab === \"home\") {\n      resetAll();\n    }\n    setActiveTab(tab);\n  };\n  // ------------------------------------------------------------\n\n  // Load open events once\n  useEffect(() => {\n    (async () => {\n      setLoadingEvents(true);\n      try {\n        console.log(\"Loading open events...\");\n        const data = await getOpenEvents();\n        setEvents(Array.isArray(data) ? data : []);\n        console.log(\"Open events loaded:\", Array.isArray(data) ? data.length : 0);\n      } catch (err) {\n        console.error(\"Failed to load open events:\", err);\n        setError(\"Failed to load open events.\");\n      } finally {\n        setLoadingEvents(false);\n      }\n    })();\n  }, []);\n\n  // -------- Submit handlers --------\n  const handleSearch = async (e) => {\n    e.preventDefault();\n    setError(\"\");\n    setMember(null);\n    if (searchMode !== \"memberId\" && searchMode !== \"nameHouse\") {\n      setError(\"Choose a search mode first.\");\n      return;\n    }\n    if (searchMode === \"memberId\" && !memberId.trim()) {\n      setError(\"Member ID is required.\");\n      return;\n    }\n    if (searchMode === \"nameHouse\" && (!name.trim() || !houseNumber.trim())) {\n      setError(\"Name and House # are required.\");\n      return;\n    }\n\n    setSearching(true);\n    try {\n      const payload =\n        searchMode === \"memberId\"\n          ? { memberId: memberId.trim() }\n          : { name: name.trim(), houseNumber: houseNumber.trim() };\n\n      console.log(\"Searching member with payload:\", payload);\n      const result = await searchMember(payload);\n      console.log(\"Search result:\", result);\n      if (result && result.name) {\n        setMember(result);\n      } else {\n        setError(\"Member not found.\");\n      }\n    } catch (err) {\n      console.error(\"Error searching member:\", err);\n      setError(err.message || \"Error searching member.\");\n    } finally {\n      setSearching(false);\n    }\n  };\n\n  const toggleEventSelection = (eventId, checked) => {\n    setSelectedEvents((prev) => {\n      const copy = { ...prev };\n      if (checked) copy[eventId] = copy[eventId] ?? 1;\n      else delete copy[eventId];\n      return copy;\n    });\n  };\n\n  const updateEventCount = (eventId, value) => {\n    setSelectedEvents((prev) => ({\n      ...prev,\n      [eventId]: value ? parseInt(value, 10) : 0,\n    }));\n  };\n\n  const hasValidSelection = () => {\n    // at least one event selected & count > 0 (you already used this rule)\n    return Object.keys(selectedEvents).some((k) => {\n      const v = Number(selectedEvents[k] || rsvpCount);\n      return !isNaN(v) && v > 0;\n    });\n  };\n\n  const handleSubmitRSVP = async (e) => {\n    e.preventDefault();\n    setError(\"\");\n    setConfirmation(null);\n    setSubmitMessage(null);\n\n    if (!member) {\n      setError(\"Please search and select a member first.\");\n      return;\n    }\n    if (!hasValidSelection()) {\n      setError(\"Please select at least one event and give it an RSVP count (>0).\");\n      return;\n    }\n    if (!email.trim()) {\n      setError(\"Please enter an email address.\");\n      return;\n    }\n\n    const confNumber = Math.floor(100000 + Math.random() * 900000).toString();\n\n    const payload = {\n      memname: member.name,\n      memaddress: member.address,\n      memphonenumber: member.phone,\n      mememail: email.trim(),\n      rsvpconfnumber: confNumber,\n      events: events\n        .map((ev, idx) =>\n          selectedEvents[idx] !== undefined && Number(rsvpCount) >= 0\n            ? {\n              programname: ev.programname,\n              eventname: ev.eventname,\n              eventday: ev.eventday,\n              eventdate: ev.eventdate,\n              rsvpcount: Number(rsvpCount),\n            }\n            : null\n        )\n        .filter(Boolean),\n    };\n\n    console.log(\"Submitting RSVP Payload:\", payload);\n\n    setSubmitting(true);\n    try {\n      const res = await submitRSVP(payload);\n      console.log(\"Submit response:\", res);\n      setConfirmation({ confNumber, ...res });\n      setSubmitMessage(\"RSVP submitted successfully!\");\n      setSubmitSuccess(true);\n\n      // keep success message visible then clear (as you requested previously)\n      setTimeout(() => {\n        // Reset all submit tab states\n        setSubmitMessage(null);\n        setSubmitSuccess(false);\n        setConfirmation(null);\n        setMember(null);\n        setSelectedEvents({});\n        setEmail(\"\");\n        setIsLifeMember(null);\n        setSearchMode(\"\");\n        setMemberId(\"\");\n        setName(\"\");\n        setHouseNumber(\"\");\n        setRsvpCount(\"\");\n\n        // Switch to Home\n        setActiveTab(\"home\");\n      }, 15000);\n\n    } catch (err) {\n      console.error(\"Error submitting RSVP:\", err);\n      setSubmitMessage(\"Error submitting RSVP: \" + (err.message || \"Unknown\"));\n      setSubmitSuccess(false);\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  // -------- Verify handlers --------\n  const handleVerifyRSVP = async (e) => {\n    if (e && e.preventDefault) e.preventDefault();\n    setError(\"\");\n    setVerifyResult({ rsvps: [] });\n    setUpdateMessage(null);\n    setUpdateError(null);\n    if (!verifyConfNumber.trim()) {\n      setError(\"Confirmation number is required.\");\n      return;\n    }\n\n    setVerifying(true);\n    try {\n      console.log(\"Calling verifyRSVP for:\", verifyConfNumber.trim());\n      const data = await verifyRSVP(verifyConfNumber.trim());\n      console.log(\"Verify response:\", data);\n      // normalize shape: ensure object with rsvps array\n      const normalized = data && Array.isArray(data.rsvps) ? data : { rsvps: [] };\n      setVerifyResult(normalized);\n    } catch (err) {\n      console.error(\"Error verifying RSVP:\", err);\n      setError(err.response?.data?.message || err.message || \"Error verifying RSVP.\");\n    } finally {\n      setVerifying(false);\n      setEditIndex(null);\n      setModifiedCount(\"\");\n    }\n  };\n\n  const handleUpdateRSVP = async (rsvpId, newCount) => {\n    try {\n      console.log(\"üîß Sending update for RSVP:\", rsvpId, \"‚Üí\", newCount);\n      const result = await updateRSVP(rsvpId, parseInt(newCount, 10));\n      console.log(\"‚úÖ RSVP updated:\", result);\n\n      const successMsg = \"RSVP updated successfully!\";\n\n      // Refresh verify results\n      await handleVerifyRSVP({ preventDefault: () => { } });\n      setEditIndex(null);\n\n      // Show success AFTER refresh\n      setUpdateMessage(successMsg);\n      setUpdateError(null);\n\n      // After 15s clear everything and return to Home\n      setTimeout(() => {\n        setVerifyConfNumber(\"\");\n        setVerifyResult({ rsvps: [] });\n        setEditIndex(null);\n        setModifiedCount(\"\");\n        setUpdateMessage(null);\n        setActiveTab(\"home\");\n      }, 15000);\n    } catch (err) {\n      console.error(\"‚ùå Error updating RSVP:\", err);\n      setUpdateError(err.message || \"Error updating RSVP.\");\n      setUpdateMessage(null);\n\n      setTimeout(() => setUpdateError(null), 5000);\n    }\n  };\n\n  // Helper to extract member info from verifyResult.rsvps (first doc)\n  const verifyMemberFromResult = () => {\n    const arr = verifyResult?.rsvps ?? [];\n    if (!Array.isArray(arr) || arr.length === 0) return null;\n    const first = arr[0];\n    return {\n      name: first.memname || \"\",\n      address: first.memaddress || \"\",\n      phone: first.memphonenumber || \"\",\n      email: first.mememail || \"\",\n    };\n  };\n\n  // Utility to format YYYY-MM-DD ‚Üí MM/DD/YYYY\n  const displayDate = (dateStr) => {\n    if (!dateStr) return \"\";\n    const [year, month, day] = dateStr.split(\"-\");\n    return `${month}/${day}/${year}`;\n  };\n\n  // -------- UI --------\n  return (\n    <div className=\"page-wrapper\">\n      <div className=\"rsvp-container\">\n        {/* ‚úÖ Logo at the top */}\n        <div className=\"logo-wrapper\">\n          <img src={logo} alt=\"JSMC Logo\" className=\"rsvp-logo\" />\n        </div>\n        {error && <div className=\"error-message\">{error}</div>}\n        {/* HOME */}\n        {activeTab === \"home\" && (\n          <div className=\"home\">\n            <h4>Welcome to JSMC RSVP Portal</h4>\n\n            {/* Open Events Table */}\n            <div className=\"result-table-wrapper\" style={{ marginTop: \"10px\" }}>\n              <h4>Current Open Events to Submit or Modify RSVP</h4>\n\n              {Array.isArray(events) && events.length > 0 ? (\n                <table className=\"result-table\" style={{ marginBottom: \"20px\" }}>\n                  <thead>\n                    <tr>\n                      <th>Program</th>\n                      <th>Event Name</th>\n                      <th>Event Date</th>\n                      <th>RSVP By</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {events.map((ev, idx) => {\n                      // Check if this is the first event for this program\n                      const isFirst = idx === 0 || ev.programname !== events[idx - 1].programname;\n                      // Count how many events belong to this program\n                      const programCount = events.filter(\n                        (e) => e.programname === ev.programname\n                      ).length;\n\n                      return (\n                        <tr key={ev._id || idx}>\n                          {isFirst && (\n                            <td rowSpan={programCount}>{ev.programname}</td>\n                          )}\n                          <td>{ev.eventname}</td>\n                          <td>{ev.eventday}, {displayDate(ev.eventdate)}</td>\n                          <td>{displayDate(ev.closersvp)}</td>\n                        </tr>\n                      );\n                    })}\n                  </tbody>\n                </table>\n              ) : (\n                <p style={{ fontStyle: \"italic\", color: \"#666\" }}>\n                  No open events available at this time.\n                </p>\n              )}\n            </div>\n\n            <h4>Please select Submit RSVP or Verify / Modify RSVP Tab</h4>\n          </div>\n        )}\n        {/* Tabs */}\n        <div className=\"tab-header\">\n          <button className={activeTab === \"home\" ? \"tab active\" : \"tab\"} onClick={() => handleTabChange(\"home\")}>\n            Home\n          </button>\n          <button className={activeTab === \"submit\" ? \"tab active\" : \"tab\"} onClick={() => handleTabChange(\"submit\")}>\n            Submit RSVP\n          </button>\n          <button className={activeTab === \"verify\" ? \"tab active\" : \"tab\"} onClick={() => handleTabChange(\"verify\")}>\n            Verify / Modify RSVP\n          </button>\n        </div>\n\n        {/* SUBMIT */}\n        {activeTab === \"submit\" && (\n          <>\n            {isLifeMember === null && (\n              <div className=\"form-section\">\n                <h3>Are you JSMC Life Member?</h3>\n                <label>\n                  <input type=\"radio\" name=\"lifeMember\" value=\"yes\" onChange={() => setIsLifeMember(\"yes\")} /> Yes\n                </label>\n                <label style={{ marginLeft: \"1rem\" }}>\n                  <input type=\"radio\" name=\"lifeMember\" value=\"no\" onChange={() => setIsLifeMember(\"no\")} /> No\n                </label>\n              </div>\n            )}\n\n            {/*{isLifeMember === \"no\" && <div className=\"message\">Thank you. RSVP is only for Life Members.</div>}*/}\n\n            {isLifeMember === \"no\" && (\n                    \n              {/*<form className=\"search-form\">\n                <div>\n                  <label htmlFor=\"name\">Name:</label>\n                  <input type=\"text\" id=\"name\" name=\"name\" required />\n                </div>\n                <div>\n                  <label htmlFor=\"address\">Address:</label>\n                  <input type=\"text\" id=\"address\" name=\"address\" required />\n                </div>\n                <div>\n                  <label htmlFor=\"phone\">Phone Number:</label>\n                  <input type=\"tel\" id=\"phone\" name=\"phone\" required />\n                </div>\n                <button className=\"button\" type=\"submit\">Submit</button>\n              </form>*/}\n            )}\n\n\n            {isLifeMember === \"yes\" && !member && (\n              <form className=\"search-form\" onSubmit={handleSearch}>\n                <h4>Retrieve membership using</h4>\n\n                <div className=\"form-row\">\n                  <label>\n                    <input\n                      type=\"radio\"\n                      value=\"memberId\"\n                      checked={searchMode === \"memberId\"}\n                      onChange={() => setSearchMode(\"memberId\")}\n                    />\n                    Member ID\n                  </label>\n                  <label style={{ marginLeft: \"1rem\" }}> OR </label>\n                  <label style={{ marginLeft: \"1rem\" }}>\n                    <input\n                      type=\"radio\"\n                      value=\"nameHouse\"\n                      checked={searchMode === \"nameHouse\"}\n                      onChange={() => setSearchMode(\"nameHouse\")}\n                    />\n                    First Name &amp; House #\n                  </label>\n                </div>\n\n                {/* ---- Member ID Search ---- */}\n                {searchMode === \"memberId\" && (\n                  <div className=\"inline-fields\">\n                    <input\n                      className=\"small-input\"\n                      type=\"number\"\n                      value={memberId}\n                      onChange={(e) => setMemberId(e.target.value)}\n                      placeholder=\"Enter Member ID\"\n                    />\n                    <button\n                      className=\"button\"\n                      type=\"submit\"\n                      disabled={searching || memberId.trim() === \"\"}\n                      style={{\n                        backgroundColor:\n                          searching || memberId.trim() === \"\" ? \"lightgray\" : \"#007bff\",\n                        color: searching || memberId.trim() === \"\" ? \"#666\" : \"white\",\n                        cursor:\n                          searching || memberId.trim() === \"\" ? \"not-allowed\" : \"pointer\",\n                      }}\n                    >\n                      {searching ? \"Searching...\" : \"Search\"}\n                    </button>\n                  </div>\n                )}\n\n                {/* ---- Name + House Search ---- */}\n                {searchMode === \"nameHouse\" && (\n                  <div className=\"inline-fields\">\n                    <input\n                      className=\"small-input\"\n                      type=\"text\"\n                      value={name}\n                      onChange={(e) => setName(e.target.value)}\n                      placeholder=\"First Name\"\n                    />\n                    <span className=\"inline-label\">House #</span>\n                    <input\n                      className=\"small-input\"\n                      type=\"text\"\n                      value={houseNumber}\n                      onChange={(e) => setHouseNumber(e.target.value)}\n                      placeholder=\"e.g. 123\"\n                    />\n                    <button\n                      className=\"button\"\n                      type=\"submit\"\n                      disabled={\n                        searching || name.trim() === \"\" || houseNumber.trim() === \"\"\n                      }\n                      style={{\n                        backgroundColor:\n                          searching || name.trim() === \"\" || houseNumber.trim() === \"\"\n                            ? \"lightgray\"\n                            : \"#007bff\",\n                        color:\n                          searching || name.trim() === \"\" || houseNumber.trim() === \"\"\n                            ? \"#666\"\n                            : \"white\",\n                        cursor:\n                          searching || name.trim() === \"\" || houseNumber.trim() === \"\"\n                            ? \"not-allowed\"\n                            : \"pointer\",\n                      }}\n                    >\n                      {searching ? \"Searching...\" : \"Search\"}\n                    </button>\n                  </div>\n                )}\n              </form>\n            )}\n\n            {member && (\n              <form className=\"rsvp-form\" onSubmit={handleSubmitRSVP}>\n                <div className=\"result-table-wrapper\">\n                  <h4>Membership Details</h4>\n                  <table className=\"result-table\" style={{ marginBottom: 10 }}>\n                    <tbody>\n                      <tr>\n                        <th>Name</th>\n                        <td>{member.name}</td>\n                      </tr>\n                      <tr>\n                        <th>Address</th>\n                        <td>{member.address}</td>\n                      </tr>\n                      <tr>\n                        <th>Phone</th>\n                        <td>{member.phone}</td>\n                      </tr>\n                    </tbody>\n                  </table>\n                </div>\n\n                <div className=\"result-table-wrapper\">\n                  <h4>Select Events to RSVP</h4>\n                  <table className=\"result-table\">\n                    <thead>\n                      <tr>\n                        <th>Program</th>\n                        <th>Event Name</th>\n                        <th>Event Date</th>\n                        <th>Select</th>\n                        <th>RSVP</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {events.map((ev, idx) => {\n                        const isFirst = idx === 0 || ev.programname !== events[idx - 1].programname;\n                        const programCount = events.filter(\n                          (e) => e.programname === ev.programname\n                        ).length;\n\n                        return (\n                          <tr key={idx}>\n                            {isFirst && (\n                              <td rowSpan={programCount}>{ev.programname}</td>\n                            )}\n                            <td>{ev.eventname}</td>\n                            <td>\n                              {ev.eventday}, {displayDate(ev.eventdate)}\n                            </td>\n                            <td>\n                              <input\n                                type=\"checkbox\"\n                                checked={selectedEvents[idx] !== undefined}\n                                onChange={(e) => toggleEventSelection(idx, e.target.checked)}\n                              />\n                            </td>\n                            <td>\n                              {selectedEvents[idx] !== undefined ? (\n                                <input\n                                  type=\"number\"\n                                  min=\"0\"\n                                  value={rsvpCount}\n                                  onChange={(e) => setRsvpCount(e.target.value)}\n                                  placeholder=\"Count\"\n                                  style={{ width: \"60px\" }}\n                                />\n                              ) : (\n                                \"-\"\n                              )}\n                            </td>\n                          </tr>\n                        );\n                      })}\n                    </tbody>\n                  </table>\n                </div>\n\n                <div className=\"inline-fields\">\n                  <label>Email Address</label>\n                  <input className=\"small-input\" type=\"email\" value={email} onChange={(e) => setEmail(e.target.value)} placeholder=\"Enter Email Address\" />\n                  <button\n                    className=\"button\"\n                    type=\"submit\"\n                    disabled={rsvpCount === \"\" || email === \"\"}\n                    style={{\n                      backgroundColor: rsvpCount === \"\" || email === \"\" ? \"grey\" : \"#007bff\",\n                      cursor: rsvpCount === \"\" || email === \"\" ? \"not-allowed\" : \"pointer\",\n                    }}\n                  >\n                    Submit RSVP\n                  </button>\n                </div>\n              </form>\n            )}\n\n            {/* Success / error messages at bottom */}\n            {submitSuccess && submitMessage && (\n              <div style={{ color: \"green\", marginTop: \"10px\" }}>\n                ‚úÖ {submitMessage}\n                {confirmation && (\n                  <div>Confirmation #: {confirmation.confNumber || confirmation?.confNumber}</div>\n                )}\n              </div>\n            )}\n\n            {!submitSuccess && submitMessage && (\n              <div style={{ color: \"red\", marginTop: \"10px\" }}>\n                ‚ùå {submitMessage}\n              </div>\n            )}\n          </>\n        )}\n\n        {/* VERIFY */}\n        {activeTab === \"verify\" && (\n          <form className=\"verify-form\" onSubmit={handleVerifyRSVP}>\n            <h3>Verify / Modify RSVP</h3>\n            <div className=\"inline-fields\">\n              <input\n                className=\"small-input\"\n                type=\"text\"\n                value={verifyConfNumber}\n                onChange={(e) => setVerifyConfNumber(e.target.value)}\n                placeholder=\"Enter Confirmation #\"\n              />\n              <button className=\"button\" type=\"submit\" disabled={verifying}>\n                {verifying ? \"Verifying...\" : \"Verify\"}\n              </button>\n            </div>\n\n            {/* Show only when rsvps are returned */}\n            {verifyResult && Array.isArray(verifyResult.rsvps) && verifyResult.rsvps.length > 0 && (\n              <div className=\"result-table-wrapper\">\n                <h4>Current RSVP Details</h4>\n\n                {/* Member details from first RSVP doc */}\n                <table className=\"result-table\" style={{ marginBottom: 10 }}>\n                  <tbody>\n                    <tr>\n                      <th>Name</th>\n                      <td>{verifyMemberFromResult()?.name}</td>\n                    </tr>\n                    <tr>\n                      <th>Address</th>\n                      <td>{verifyMemberFromResult()?.address}</td>\n                    </tr>\n                    <tr>\n                      <th>Phone</th>\n                      <td>{verifyMemberFromResult()?.phone}</td>\n                    </tr>\n                    <tr>\n                      <th>Email</th>\n                      <td>{verifyMemberFromResult()?.email}</td>\n                    </tr>\n                  </tbody>\n                </table>\n\n                {/* RSVP Events */}\n                <table className=\"result-table\">\n                  <thead>\n                    <tr>\n                      <th>Program</th>\n                      <th>Event Name</th>\n                      <th>Event Date</th>\n                      <th>Status</th>\n                      <th>RSVP</th>\n                      <th>Modify</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {verifyResult.rsvps.map((ev, idx) => (\n                      <tr key={ev._id || idx}>\n                        <td>{ev.programname}</td>\n                        <td>{ev.eventname}</td>\n                        <td>{ev.eventday}, {displayDate(ev.eventdate)}</td>\n                        <td>{ev.eventstatus}</td>\n                        <td>\n                          {editIndex === idx ? (\n                            <input\n                              type=\"number\"\n                              min=\"0\"\n                              value={modifiedCount}\n                              onChange={(e) => setModifiedCount(e.target.value)}\n                              style={{ width: \"60px\" }}\n                            />\n                          ) : (\n                            ev.rsvpcount\n                          )}\n                        </td>\n                        <td>\n                          {ev.eventstatus === \"Open\" ? (\n                            editIndex === idx ? (\n                              <button\n                                type=\"button\"\n                                onClick={() => handleUpdateRSVP(ev._id, modifiedCount)}\n                              >\n                                Save\n                              </button>\n                            ) : (\n                              <label>\n                                <input\n                                  type=\"checkbox\"\n                                  onChange={() => {\n                                    setEditIndex(idx);\n                                    setModifiedCount(ev.rsvpcount);\n                                  }}\n                                />\n                                Modify\n                              </label>\n                            )\n                          ) : (\n                            <span style={{ color: \"gray\" }}>Not Editable</span>\n                          )}\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            )}\n\n            {/* No results case */}\n            {verifyResult && verifyResult.checked && Array.isArray(verifyResult.rsvps) && verifyResult.rsvps.length === 0 && (\n              <div style={{ textAlign: \"center\", color: \"#888\", fontStyle: \"italic\", marginTop: \"10px\" }}>\n                No RSVP records found for this confirmation number or Event RSVP may be closed.\n              </div>\n            )}\n\n            {/* Success / error messages at bottom */}\n            {updateMessage && (\n              <div style={{ color: \"green\", marginTop: \"10px\" }}>\n                ‚úÖ {updateMessage}\n              </div>\n            )}\n            {updateError && (\n              <div style={{ color: \"red\", marginTop: \"10px\" }}>\n                ‚ùå {updateError}\n              </div>\n            )}\n\n          </form>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}